<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Place â€” The Collective Canvas</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  margin: 0;
  background: #0b0b0b;
  color: #fff;
  font-family: Inter, sans-serif;
  overflow: hidden;
}

#ui {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 10;
}

#counter {
  font-size: 14px;
  opacity: 0.8;
  margin-bottom: 10px;
}

input[type="color"] {
  width: 40px;
  height: 40px;
  border: none;
  background: none;
  cursor: pointer;
}

canvas {
  display: block;
  cursor: crosshair;
}
</style>
</head>

<body>

<div id="ui">
  <div id="counter">Pixels remaining: <strong id="remaining">10</strong></div>
  <input type="color" id="colorPicker" value="#ffffff">
</div>

<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

const SIZE = 1000;
let pixelsRemaining = 10;
let color = "#ffffff";

canvas.width = SIZE;
canvas.height = SIZE;

// Resize canvas to screen
function resize() {
  canvas.style.width = window.innerWidth + "px";
  canvas.style.height = window.innerHeight + "px";
}
resize();
window.addEventListener("resize", resize);

// Fill background
ctx.fillStyle = "#0b0b0b";
ctx.fillRect(0, 0, SIZE, SIZE);

// Color picker
document.getElementById("colorPicker").addEventListener("input", e => {
  color = e.target.value;
});

// Draw pixel
canvas.addEventListener("click", e => {
  if (pixelsRemaining <= 0) return;

  const rect = canvas.getBoundingClientRect();
  const x = Math.floor((e.clientX - rect.left) / rect.width * SIZE);
  const y = Math.floor((e.clientY - rect.top) / rect.height * SIZE);

  ctx.fillStyle = color;
  ctx.fillRect(x, y, 1, 1);

  pixelsRemaining--;
  document.getElementById("remaining").textContent = pixelsRemaining;
});

// Simple zoom (wheel)
let scale = 1;
canvas.addEventListener("wheel", e => {
  e.preventDefault();
  scale += e.deltaY * -0.001;
  scale = Math.min(Math.max(1, scale), 20);

  canvas.style.transform = `scale(${scale})`;
});
</script>

</body>
</html>

